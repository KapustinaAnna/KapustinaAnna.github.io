# Требования к системе

## Требования к системе в целом

### Производительность

**`NFPER1`** Система должна обслуживать не менее 30 пользователей в период пиковой активности с 08:00 до 20:00 по местному времени

**`NFPER2`** Приложение должно обеспечивать время отклика не более 1 секунд для выполнения основных операций (например, добавление, редактирование и удаление продуктов) в 80% случаев .

**`NFPER3`** Приложение должно эффективно обрабатывать инвентаризацию на уровне до 10,000 единиц товаров без значительного ухудшения производительности. 

### Безопасность

**`NFSEC1`** 
 Система должна предусматривать аутентификацию пользователей в системе по логину  и паролю.

**`NFSEC2`** Пользователи должны обязательно аутентифицироваться для просмотра и выполнения действий

**`NFSEC3`** Приложение должно поддерживать  управление доступом на основе ролей.(администратор/пользователь)

### Масштабируемость

**`NFEXT1`**  Система должна поддерживать возможность добавления новых серверов для обработки увеличивающегося количества запросов и данных.
**`NFEXT2`** Приложение должно позволять управлять  системой хранение продуктов, инвентаризацией и автозаказом без потери текущей производительности при приросте  2 ресторана в год.

### Надежность

**`NFROB1`** Вероятность возникновения критической ошибки должна составлять не более 0,5 % обращений.

**`NFROB2`** Система должна демонстрировать уровень надёжности, при котором время восстановления после сбоя в работе отдельной функции не превышает 30 с секунд в 90% случаев.  

**`NFROB3`** Приложение должно иметь механизмы для автоматического восстановления данных после сбоев, включая резервное копирование и восстановление данных.

### Совместимость

**`NFCOM1`**  Мобильное приложение должно быть совместимо с ОС Android 5.0 или выше и iOS 10 или выше.

**`NFCOM2`** Веб-приложение должно быть совместимо с браузерами, работающими на движках: Blink; Gecko; WebKit

**`NFCOM3`** Приложение должно поддерживать интеграцию с 1С, сервисом заказа ресторана, системами поставщиков.   


### Доступность

**`NFAVL1`** Допустимое время простоя в сутки не более 30 минут.
**`NFAVL2`** Уровень доступности: Система должна обеспечивать уровень доступности 98%, за исключением времени планового обслуживания.
**`NFAVL3`** Допустимое время простоя в месяц, часов, не более 5 часов  



### Особенности хранения данных

**`NFDT1`** Логи о действиях сотрудника должна храниться 2 года

**`NFDT2`** Бекапы БД должны производиться каждые 60 мин.

**`NFDT3`** Бекапы БД должны храниться 7 дней с момента создания. 


### Концептуальная целостность

**`NFARC1`** Система должна соответствовать архитектурному стилю REST. 

### Поддерживаемость

**`NFSUP1`** Необходимо логировать действия пользователей в системе. Просмотр данных логов должен осуществляться через графический интерфейс.


**`NFSUP2`**  Необходимо предоставить полную документацию как для пользователей, так и для разработчиков, включая руководства, API-документацию 

## Удобство использования

**`NFRS1`**  Приложение должно иметь адаптивный дизайн для различных устройств: мобильные телефон, планшет.

## Требования к функциям (задачам), выполняемым системой

### UseCase диаграмма

Основные функции системы представлены в виде UseCase диаграммы.  

![](diagrams/out/usecase.svg)

## <a name="_wewk7tue8td2"></a> Описание UseCase, реализуемых в рамках MVP


|**Название**|**Инвентаризация**|
| :- | :- |
|Краткое описание|Проведение инвентаризации продуктов ресторана|
|Субъекты|Менеджер пополнения(пользователь )|
|Предусловие|Менеджер пополнения авторизован в системе и у него есть аппарат для сканирования штрихкода |
|Постусловие|Все Продукты проверены, информация в системе верная|
|Основной сценарий|<p>1. Пользователь сканирует штрихкод продукта.</p><p>2. Система показывает информацию по продукту</p><p>3. Пользователь сверяет информацию</p><p>4. Если информация верная, пользователь переходит к проверке следующего продукта </p><p>Конец сценария,когда все продукты проверены</p>|
|Альтернативный сценарий|<p>**Продукт не найден**</p><p>2А. Система выдает ошибку, что продукт не найден </p><p>1. Пользователь добавляет информация о продукте в систему</p><p>&emsp;</p><p>**Некорректная информация в системе**</p><p></p><p>4А. Если информация некорректная:</p><p>1. Пользователь вносит правки</p><p>2. Пользователь сохраняет новую информацию</p><p>   </p><p></p>|
|<p>**Прерывание процесса:**</p><p></p>|<p></p><p>Система на любом шаге позволяет завершить процесс</p>|




|**Название**|**Добавить продукт**|
| :- | :- |
|Краткое описание|Добавление продукта в базу|
|Субъекты|Менеджер пополнения, технолог|
|Предусловие|Пользователь авторизован в системе находится в главном интерфейсе|
|Постусловие|Продукт добавлен в базу|
|Основной сценарий|<p>1. Пользователь нажимает кнопку добавить продукт</p><p>2. Система показывает форму для ввода информации</p><p>3. Пользователь заполняет необходимую информацию.</p><p>4. Пользователь нажимает кнопку для сохранения информации</p><p>5. Система сохраняет информацию в базе</p><p>6. Система показывает уведомление,что продукт успешно добавлен</p><p>Конец сценария</p>|
|Альтернативный сценарий|<p>**Пользователь передумал добавлять новый продукт**</p><p>` `3А. Пользователь закрывает форму для ввода информации</p><p>1. Система возвращается в главный интерфейс</p><p>Конец сценария</p><p>4А. Пользователь нажимает кнопку отмена</p><p>1. Система показывает форму для отмены добавления товара </p><p>2. Пользователь отменяет добавление</p><p>3. Система возвращается в главный интерфейс</p>|
|<p>**Прерывание процесса:**</p><p></p>|<p>Система на любом шаге позволяет завершить процесс</p><p></p>|

|**Название**|**Обновить информацию о продукте**|
| :- | :- |
|Краткое описание|Обновление информации о продукте уже занесенном в систему|
|Субъекты|Менеджер пополнения, технолог|
|Предусловие|Пользователь авторизован в системе находится в главном интерфейсе|
|Постусловие|Информация о продукте обновлена|
|Основной сценарий|<p>1. Пользователь открывает информацию о необходимом продукте</p><p>2. Пользователь вносит изменения в информацию о продукте</p><p>3. Пользователь нажимает кнопку для сохранения информации</p><p>4. Система сохраняет  новую информацию  о продукте</p><p>5. Система показывает уведомление,что продукт успешно обновлен</p><p>Конец сценария</p>|
|Альтернативный сценарий|<p>**Пользователь не нажимает кнопку для сохранения информации**</p><p>3А Пользователь переходит на другую страницу или обновляет текущую</p><p>1. Система выводит предупреждение о том, что введенная информация не сохранится. Предлагает сохранить измененную информацию</p><p>2. Пользователь нажимает кнопку сохранения.</p><p>3. ` `Переход к пункту 4 основного сценария</p><p>&emsp;Конец сценария</p>|
|<p>**Прерывание процесса:**</p><p></p>|<p>Система на любом шаге позволяет завершить процесс без сохранения изменений</p><p></p>|


|**Название**|**Автозаказ продуктов**|
| :- | :- |
|Краткое описание|Автоматический заказ продукции при критическом количестве продукта в системе|
|Субъекты|<p>Менеджер пополнения(пользователь)</p><p>Система</p><p>Поставщик</p>|
|Предусловие|Осталось минимально допустимое количество продукта,пользователь авторизован|
|Основной сценарий|<p>1. Система присылает пользователю уведомлении о формировании заказа поставищку</p><p>2. Пользователь проверяет и утверждает заказ</p><p>3. Система отправляет поставщику заказ</p><p>4. Поставщик утверждает заказ</p><p>5. Система ожидает получения заказа</p><p>6. Пользователь получает заказ</p><p>7. Пользователь отмечает в системе,что заказ получен</p><p>8. Пользователь добавляет сведения в систему</p><p>Конец сценария</p>|
|Альтернативный сценарий|<p>**Пользователю требуется внести изменения в заказ**</p><p>2А Пользователь  не утверждает заказ</p><p>1. Пользователь вносит изменения в заказ</p><p>2. Возвращение к п. 2 основного сценария</p><p>Конец сценария</p><p></p>|
|<p>**Прерывание процесса:**</p><p></p>|Система на любом шаге позволяет завершить процесс без сохранения изменений|



|**Название**|**Ручной заказ продуктов**|
| :- | :- |
|Краткое описание|Менеджеру пополнения необходимо заказать продукты вручную|
|Субъекты|<p>Менеджер пополнения(пользователь)</p><p>Система</p><p>Поставщик</p>|
|Предусловие|Пользователь авторизован в системе|
|Основной сценарий|<p>1. Пользователь формирует заказ поставщику </p><p>2. Пользователь проверяет и утверждает заказ</p><p>3. Система отправляет поставщику заказ</p><p>4. Поставщик утверждает заказ</p><p>5. Система ожидает получения заказа</p><p>6. Пользователь получает заказ</p><p>7. Пользователь отмечает в системе,что заказ получен</p><p>8. Пользователь добавляет сведения в систему</p><p>9. Конец сценария</p>|
|Альтернативный сценарий||
|<p>**Прерывание процесса:**</p><p></p>|Система на любом шаге позволяет завершить процесс без сохранения изменений|




|**Название**|**Контроль срока годности**|
| :- | :- |
|Краткое описание|Контроль сроков годности продуктов для предотвращения их списания|
|Субъекты|<p>Система</p><p>Менеджер пополнение(пользователь)</p>|
|Предусловие|Осталось 5 дней до окончания срока годности продукта |
|Основной сценарий|<p>1. Пользователю приходит уведомление о скором окончании срока годности продукта</p><p>2. Система ставит продукт первым в очередь на выдачу</p><p>3. Пользователь контролирует срок годность продукта </p><p>4. При поступлении заказа и срок продукта еще не вышел, он выдается для приготовление заказа</p><p>Конец сценария</p>|
|Альтернативный сценарий|<p>Срок годности продукта вышел</p><p>4А Срок годности  продукта вышел</p><p>1. Пользователю приходит уведомление, что у продукта закончился срок годности</p><p>2. Пользователь списывает продукт</p><p>3. Система добавляет данные в отчет</p><p></p>|
|<p>**Прерывание процесса:**</p><p></p>||



|**Название**|**Списание продукта**|
| :- | :- |
|Краткое описание|Списание продуктов  в процессе инвентаризации|
|Субъекты|<p>Менеджер пополнение(пользователь)</p><p>Система</p>|
|Предусловие|Пользователь авторизован в системе. Пользователь просматривает информацию о продукте, в частности срок годности.У продукта истек срок годности или он испорчен |
|Основной сценарий|<p>1. Пользователь выбирает списать продукт</p><p>2. Пользователь указывает причину списания </p><p>3. Система снимает продукт с баланса.</p><p>4. Система добавляет данные  в отчет</p>|
|Альтернативный сценарий||
|<p>**Прерывание процесса:**</p><p></p>|Система на любом шаге позволяет завершить процесс без сохранения изменений|




|**Название**|**Просмотреть информацию о продукте**|
| :- | :- |
|Краткое описание|Просмотреть полную  информацию о продукте|
|Субъекты|<p>Менеджер пополнения(пользователь)</p><p>Система</p>|
|Предусловие|Пользователь прошел аутентификацию в приложении|
|Основной сценарий|<p>1. Пользователь вводит в поле фильтра информацию  для поиска продукта</p><p>2. Система выдает результаты поиска</p><p>3. Пользователь выбирает нужный продукт</p><p>4. Система показывает окно с полной информацией о продукте</p><p>5. Пользователь закрывает окно,ознакомившись с информацией</p><p>Конец сценария</p><p></p>|
|Альтернативный сценарий|<p>**Пользователь в чтение 5  минут не закрывает окно**</p><p>5А Система возвращается в исходное окно</p>|
|<p>**Прерывание процесса:**</p><p></p>|Система на любом шаге позволяет завершить процесс без сохранения изменений|



|**Название**|**Аутентификация пользователя**|
| :- | :- |
|Краткое описание|Вход  зарегистрированного пользователя в систему|
|Субъекты|<p>1\. Клиент</p><p>2\. Система</p>|
|Предусловие|<p>Клиент уже зарегистрирован в системе администратором . Клиент открыл страницу аутентификации.</p><p></p>|
|Постусловие|Клиент авторизован в системе |
|Основной сценарий|<p>1. Клиент вводит логин и пароль.</p><p>2. Клиент пытается авторизоваться</p><p>3. Система проверяет, что логин и пароль введены корректно</p><p>4. ` `Если логин и пароль верные, аутентификация пройдена.</p><p>Конец сценария</p>|
|Альтернативный сценарий|<p>**Логин или пароль некорректны**</p><p>3А.Не найден пользователь с такими данными.</p><p>1. Система выдает сообщения,что вход не возможен и предлагает восстановить пароль. </p><p>2. Пользователь выбирает восстановить пароль:  </p><p>1\. Система выводит диалоговое окно для ввода электронной почты указанного при регистрации.</p><p>2\. Клиент вводит данные</p><p>3\. Система отправляет новый пароль на введенный имейл.</p><p>4\. Переход к п.1 основного сценария. Конец сценария</p>|
|<p>**Прерывание процесса:**</p><p></p>|Система на любом шаге позволяет завершить процесс без сохранения изменений|





|**Название**|**Выдача продукта**|
| :- | :- |
|Краткое описание|Выдача продукта для приготовления заказа роботу|
|Субъекты|<p>1. Приложение заказа</p><p>2. Система</p><p>3. Система роботов</p><p>4. Технолог</p>|
|Предусловие|Клиент сделал заказ в ресторане, заказ оплачен,продукты есть в наличии роботы освободились для приготовления.|
|Основной сценарий|<p>1. Система роботов отправляет запрос в приложении заказа,что робот освободился</p><p>2. Приложение заказа в систему отправляет запрос для выдачи продуктов</p><p>3. Система  ищет забронированные продукты для данного заказа</p><p>4. Система снимает с баланса выбранные продукты</p><p>5. Система добавляет данные в отчет</p><p>6. Робот начинает готовить заказ</p><p>Конец сценария</p>|
|Альтернативный сценарий|<p>Произошла ошибка,нет забронированных продуктов</p><p>3А Система не нашла забронированного продукта</p><p>1. Система выдает ошибку</p><p>2. Система отправляет уведомление технологу о произошедшей ошибке</p><p>3. Технолог ищет подходящие продукты и добавляет их для приготовления заказа в систему</p><p>4. Система переходит к п. 4 основного сценария.</p>|
|<p>**Прерывание процесса:**</p><p></p>||

## <a name="_wewk7tue8td2"></a>Описание UseCase, реализуемых в рамках первого релиза


|**Название**|**Удалить продукт**|
| :- | :- |
|Краткое описание|Удаление продукта из системы|
|Субъекты|Менеджер пополнения, технолог|
|Предусловие|Пользователь авторизован и просматривает информацию о продукте|
|Постусловие|Продукт удален из базы|
|Основной сценарий|<p>1. Пользователь нажимает кнопку удалить продукт</p><p>2. Система показывает форму подтверждения удаления</p><p>3. Пользователь подтверждает удаление продукта</p><p>4. Система удаляет продукт, заносит в отчет</p><p>Конец сценария</p>|
|Альтернативный сценарий|<p>Пользователь передумал удалять продукт </p><p>3А. Пользователь отменяет удаление продукта</p><p></p><p>Конец сценария</p>|
|<p>**Прерывание процесса:**</p><p></p>|<p>Система на любом шаге позволяет завершить процесс</p><p></p>|




|**Название**|**Регистрация пользователя**|
| :- | :- |
|Краткое описание|Регистрация пользователя для возможно управления и чтения информации о продуктах|
|Субъекты|<p>1\. Пользователь</p><p>2\. Система</p>|
|Предусловие|Пользователь зашел на страницу регистрации|
|Постусловие|Пользователь зарегистрирован в системе|
|Основной сценарий|<p>1. Пользователь заполняет на странице данные для регистрации</p><p>2. Система проверяет наличие в системе пользователей с такими же логином,почтой или телефоном.</p><p>3. Если  пользователь с таким и данными не существует Система отправляет код подтверждения на электронную почту</p><p>4. Система выводит диалоговое окно подтверждения номера телефона.</p><p>5. Пользователь вводит код подтверждения в диалоговом окне</p><p>6. Система сохраняет данные регистрации.</p><p>` `Конец сценария.</p>|
|Альтернативный сценарий|<p>3А: Пользователь с введенным данными  уже существует.</p><p>1\. Система выводит сообщение, что пользователь с такими данными уже зарегистрирован.</p><p>2\. Пользователь закрывает окно предупреждения</p><p>3\. Пользователь вводит новые данные для регистрации</p><p>4\. Переход к п.2 основного сценария. Конец сценария.</p>|
|<p>**Прерывание процесса:**</p><p></p>|Система на любом шаге позволяет завершить процесс без сохранения изменений|



